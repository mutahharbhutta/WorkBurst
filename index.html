<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>WorkBurst - Modern Task Manager</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- Preloader -->
  <div class="preloader" id="preloader">
    <!-- <div class="loader-logo">📚</div> -->
    <div class="loader-spinner"></div>
    <div class="loader-text">Loading your tasks be patient...</div>
  </div>

  <!-- Navigation -->
  <nav class="navbar">
    <div class="nav-container">
      <a href="index.html" class="nav-brand">

        <span>WorkBurst</span>
      </a>
      
      <div class="nav-menu">
        <button id="toggleTheme" class="theme-toggle" aria-label="Toggle theme">🌓</button>
        <button id="loginBtn" class="nav-btn primary">🔐 Admin</button>
        <button id="logoutBtn" class="nav-btn danger admin-only">Logout</button>
      </div>
    </div>
  </nav>

  <!-- Hero Section -->
  <div class="container">
    <div class="hero">
      <h2>Assignments, Quizzes & Labs</h2>
      <p>Stay organized and never miss a deadline</p>
    </div>

    <!-- Filters Toolbar -->
    <div class="toolbar">
      <div class="search-wrapper">
        <span class="search-icon">🔍</span>
        <input id="search" class="input" placeholder="Search tasks, courses..." />
      </div>
      <div class="select-wrapper">
        <select id="filterType" class="input">
          <option value="all">All Types</option>
          <option>Assignment</option>
          <option>Quiz</option>
          <option>Lab</option>
        </select>
      </div>
    </div>

    <!-- Tasks Section -->
    <section>
      <div class="section-header">
        <h2 class="section-title">Tasks</h2>
        <div class="task-count" id="taskCount">0 tasks</div>
      </div>
      <div id="emptyState" class="empty-state" style="display:none;">
        <div class="icon">📭</div>
        <h3>No tasks found</h3>
        <p>Try adjusting your filters or add a new task</p>
      </div>
      <div id="cards" class="grid"></div>
    </section>

    <!-- Admin Panel -->
    <section class="admin-section admin-only">
      <h2 class="section-title">Admin Panel</h2>
      
      <form id="itemForm" autocomplete="off">
        <input type="hidden" id="itemId" />
        
        <div class="field">
          <label>Type</label>
          <select id="type" class="input" required>
            <option>Assignment</option>
            <option>Quiz</option>
            <option>Lab</option>
          </select>
        </div>

        <div class="field">
          <label>Course</label>
          <input id="course" class="input" placeholder="e.g., Calculus II" required />
        </div>

        <div class="field full">
          <label>Title</label>
          <input id="title" class="input" placeholder="e.g., Derivatives worksheet" required />
        </div>

        <div class="field">
          <label>Due Date</label>
          <input id="dueDate" type="date" class="input" required />
        </div>

        <div class="field">
          <label>Due Time</label>
          <input id="dueTime" type="time" class="input" />
        </div>

        <div class="field full">
          <label>Link (optional)</label>
          <input id="link" class="input" placeholder="https://..." />
        </div>

        <div class="field full">
          <label>Notes (optional)</label>
          <input id="notes" class="input" placeholder="Any details or instructions..." />
        </div>

        <div class="form-actions">
          <button type="submit" class="btn primary">💾 Save Task</button>
          <button type="button" id="resetBtn" class="btn secondary">Clear Form</button>
          <button type="button" id="deleteBtn" class="btn danger" style="display:none;">🗑️ Delete</button>
        </div>
      </form>

      <div class="table-wrapper">
        <table class="table">
          <thead>
            <tr>
              <th>Type</th>
              <th>Course</th>
              <th>Title</th>
              <th>Due</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody id="adminTbody"></tbody>
        </table>
      </div>
    </section>
  </div>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-content">
      <p>
        Developed by 
        <a href="https://github.com/mutahharbhutta" target="_blank" rel="noopener" class="animated-name">Mutahhar Bhutta</a>
        | © 2025
      </p>
      <p>Crafted with <span class="heart">❤</span></p>
    </div>
  </footer>

  <!-- Login Dialog -->
  <dialog id="loginDialog">
    <h3>🔐 Admin Login</h3>
    <p>Use your Firebase Email/Password to access admin features.</p>
    <input id="email" class="input" placeholder="Email" type="email" />
    <input id="password" type="password" class="input" placeholder="Password" />
    <div class="dialog-actions">
      <button class="btn secondary" id="cancelLogin">Cancel</button>
      <button class="btn primary" id="confirmLogin">Log In</button>
    </div>
  </dialog>

  <!-- Firebase compat SDKs -->
  <script src="https://www.gstatic.com/firebasejs/12.3.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/12.3.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/12.3.0/firebase-firestore-compat.js"></script>

  <!-- App Script -->
  <script src="app.js"></script>
</body>
</html>